{
    "sourceFile": "src/pages/Home.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 20,
            "patches": [
                {
                    "date": 1765474858499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1768156313218,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,20 +9,52 @@\n import { Link } from \"react-router-dom\";\n import MosaicProgressBar from \"../components/MosaicProgressBar\";\n import LiveCamera from \"../components/LiveCamera\";\n import { getHighlightedPhotos } from \"../services/photoService\";\n+import { getPublicStats } from \"../services/statsService\";\n+import {}\n \n export default function Home() {\n-  const { total: onlineTotal = 0, anonymousCount = 0, count: registeredOnline = 0 } =\n-    useOnlineUsers();\n+  const {\n+    total: onlineTotal = 0,\n+    anonymousCount = 0,\n+    count: registeredOnline = 0,\n+  } = useOnlineUsers();\n \n   const [theme, setTheme] = useState(\"day\");\n-  const [stats] = useState({\n-    fotos: 1523,\n-    colaboradores: 847,\n-    paises: 27,\n+  const [stats, setStats] = useState({\n+    fotos: 0,\n+    colaboradores: 0,\n+    paises: 0,\n   });\n+  const [loadingStats, setLoadingStats] = useState(true);\n+  const [statsError, setStatsError] = useState(\"\");\n \n+  useEffect(() => {\n+    const fetchStats = async () => {\n+      setLoadingStats(true);\n+      setStatsError(\"\");\n+      try {\n+        const data = await getPublicStats();\n+        setStats({\n+          fotos: data?.photos ?? 0,\n+          colaboradores: data?.collaborators ?? 0,\n+          paises: data?.countries ?? 0,\n+        });\n+      } catch (err) {\n+        console.error(\"Error al cargar estadísticas:\", err);\n+        setStatsError(\n+          err?.response?.data?.message ||\n+            \"No se pudieron cargar las estadísticas.\"\n+        );\n+      } finally {\n+        setLoadingStats(false);\n+      }\n+    };\n+\n+    fetchStats();\n+  }, []);\n+\n   // Theme automático por hora\n   useEffect(() => {\n     const hour = new Date().getHours();\n     if (hour >= 21 || hour < 6) setTheme(\"sunset\");\n@@ -127,41 +159,46 @@\n             </Link>\n           </div>\n         </div>\n       </section>\n-      \n \n       {/* HERO MOSAICO */}\n       <section className=\"hero-preview\">\n-       <Link to=\"/mosaic\">\n-        <img\n-          src={heroPic}\n-          alt=\"Vista previa del mosaico colaborativo de la Sagrada Família\"\n-          loading=\"lazy\"\n-          className=\"hero-clickable\"\n-        />\n-       </Link>\n+        <Link to=\"/mosaic\">\n+          <img\n+            src={heroPic}\n+            alt=\"Vista previa del mosaico colaborativo de la Sagrada Família\"\n+            loading=\"lazy\"\n+            className=\"hero-clickable\"\n+          />\n+        </Link>\n       </section>\n \n-\n       <MosaicProgressBar />\n \n       {/* ESTADÍSTICAS */}\n       <section className=\"stats-section\">\n         <h3 className=\"stats-title\">Nuestra comunidad en cifras</h3>\n+        {statsError && (\n+          <p className=\"text-red-600 text-sm mb-2\">{statsError}</p>\n+        )}\n         <div className=\"stats-grid\">\n           <div className=\"stat-item\">\n-            <span className=\"stat-number\">{stats.fotos.toLocaleString()}</span>\n+            <span className=\"stat-number\">\n+              {loadingStats ? \"...\" : stats.fotos.toLocaleString()}\n+            </span>\n             <span className=\"stat-label\">Fotos subidas</span>\n           </div>\n           <div className=\"stat-item\">\n             <span className=\"stat-number\">\n-              {stats.colaboradores.toLocaleString()}\n+              {loadingStats ? \"...\" : stats.colaboradores.toLocaleString()}\n             </span>\n             <span className=\"stat-label\">Colaboradores</span>\n           </div>\n           <div className=\"stat-item\">\n-            <span className=\"stat-number\">{stats.paises}</span>\n+            <span className=\"stat-number\">\n+              {loadingStats ? \"...\" : stats.paises}\n+            </span>\n             <span className=\"stat-label\">Países participantes</span>\n           </div>\n           <div className=\"stat-item\">\n             <span className=\"stat-number\">{onlineTotal || 0}</span>\n@@ -238,16 +275,17 @@\n                   </button>\n                 </div>\n \n                 {/* Indicadores */}\n-                <div className=\"flex justify-center gap-2 py-4 bg-base-100\">\n+                <div className=\"flex justify-center gap-3 py-4 bg-base-100\">\n                   {rawSlides.map((_, i) => (\n                     <button\n                       key={i}\n                       onClick={() => setCurrentSlide(i)}\n-                      className={`btn btn-xs ${\n-                        i === currentSlide ? \"btn-primary\" : \"\"\n+                      className={`carousel-dot ${\n+                        i === currentSlide ? \"is-active\" : \"\"\n                       }`}\n+                      type=\"button\"\n                     >\n                       {i + 1}\n                     </button>\n                   ))}\n@@ -265,11 +303,11 @@\n           <a href=\"/api/docs\">API Docs</a>\n           <a href=\"https://github.com\" target=\"_blank\" rel=\"noreferrer\">\n             GitHub\n           </a>\n-          </p>\n-          © {new Date().getFullYear()} Proyecto colaborativo Sagrada Família API\n-          — Desarrollado por el equipo Full Stack 2025.\n+        </p>\n+        © {new Date().getFullYear()} Proyecto colaborativo Sagrada Família API —\n+        Desarrollado por el equipo Full Stack 2025.\n       </footer>\n \n       <LiveCamera />\n     </main>\n"
                },
                {
                    "date": 1768156655708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,8 @@\n import MosaicProgressBar from \"../components/MosaicProgressBar\";\n import LiveCamera from \"../components/LiveCamera\";\n import { getHighlightedPhotos } from \"../services/photoService\";\n import { getPublicStats } from \"../services/statsService\";\n-import {}\n \n export default function Home() {\n   const {\n     total: onlineTotal = 0,\n"
                },
                {
                    "date": 1768157824297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,9 @@\n import MosaicProgressBar from \"../components/MosaicProgressBar\";\n import LiveCamera from \"../components/LiveCamera\";\n import { getHighlightedPhotos } from \"../services/photoService\";\n import { getPublicStats } from \"../services/statsService\";\n+import UserPage from \"./UserPage\";\n \n export default function Home() {\n   const {\n     total: onlineTotal = 0,\n"
                },
                {
                    "date": 1768158253238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,8 +104,12 @@\n   }, [highlighted, slideCount]);\n \n   return (\n     <main className=\"home\">\n+      {/* Button link to UserPage */}\n+      <Link to=\"/user-page\" className=\"user-page-link\">\n+        My Photos\n+      </Link>\n       {/* Botón para alternar el modo manualmente */}\n       <button\n         className=\"theme-toggle\"\n         aria-label=\"Cambiar entre modo día y atardecer\"\n"
                },
                {
                    "date": 1768158585775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,8 @@\n import MosaicProgressBar from \"../components/MosaicProgressBar\";\n import LiveCamera from \"../components/LiveCamera\";\n import { getHighlightedPhotos } from \"../services/photoService\";\n import { getPublicStats } from \"../services/statsService\";\n-import UserPage from \"./UserPage\";\n \n export default function Home() {\n   const {\n     total: onlineTotal = 0,\n@@ -105,9 +104,9 @@\n \n   return (\n     <main className=\"home\">\n       {/* Button link to UserPage */}\n-      <Link to=\"/user-page\" className=\"user-page-link\">\n+      <Link to=\"/userPage\" className=\"user-page-link\">\n         My Photos\n       </Link>\n       {/* Botón para alternar el modo manualmente */}\n       <button\n"
                },
                {
                    "date": 1768158807805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -105,9 +105,9 @@\n   return (\n     <main className=\"home\">\n       {/* Button link to UserPage */}\n       <Link to=\"/userPage\" className=\"user-page-link\">\n-        My Photos\n+        Mis Fotos\n       </Link>\n       {/* Botón para alternar el modo manualmente */}\n       <button\n         className=\"theme-toggle\"\n"
                },
                {
                    "date": 1769448416642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -308,9 +308,9 @@\n             GitHub\n           </a>\n         </p>\n         © {new Date().getFullYear()} Proyecto colaborativo Sagrada Família API —\n-        Desarrollado por el equipo Full Stack 2025.\n+        Development by Amarillo Team at Nuclio Digital School Full Stack 2025.\n       </footer>\n \n       <LiveCamera />\n     </main>\n"
                },
                {
                    "date": 1769449702280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,10 @@\n import MosaicProgressBar from \"../components/MosaicProgressBar\";\n import LiveCamera from \"../components/LiveCamera\";\n import { getHighlightedPhotos } from \"../services/photoService\";\n import { getPublicStats } from \"../services/statsService\";\n+import { useLocation, useNavigate } from \"react-router-dom\";\n+import AboutModal from \"../components/AboutModal\";\n \n export default function Home() {\n   const {\n     total: onlineTotal = 0,\n"
                },
                {
                    "date": 1769449901372,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,8 +103,10 @@\n \n     return () => clearInterval(interval);\n   }, [highlighted, slideCount]);\n \n+  <AboutModal isOpen={isAboutOpen} onClose={closeAbout} />;\n+\n   return (\n     <main className=\"home\">\n       {/* Button link to UserPage */}\n       <Link to=\"/userPage\" className=\"user-page-link\">\n"
                },
                {
                    "date": 1769450036929,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,14 +5,13 @@\n import iconNacimiento from \"../assets/iconNacimiento.png\";\n import iconPasion from \"../assets/iconPasion.png\";\n import FactSection from \"../components/FactSection\";\n import useOnlineUsers from \"../hooks/useOnlineUsers\";\n-import { Link } from \"react-router-dom\";\n+import { Link, useLocation, useNavigate } from \"react-router-dom\";\n import MosaicProgressBar from \"../components/MosaicProgressBar\";\n import LiveCamera from \"../components/LiveCamera\";\n import { getHighlightedPhotos } from \"../services/photoService\";\n import { getPublicStats } from \"../services/statsService\";\n-import { useLocation, useNavigate } from \"react-router-dom\";\n import AboutModal from \"../components/AboutModal\";\n \n export default function Home() {\n   const {\n@@ -21,16 +20,30 @@\n     count: registeredOnline = 0,\n   } = useOnlineUsers();\n \n   const [theme, setTheme] = useState(\"day\");\n+\n   const [stats, setStats] = useState({\n     fotos: 0,\n     colaboradores: 0,\n     paises: 0,\n   });\n   const [loadingStats, setLoadingStats] = useState(true);\n   const [statsError, setStatsError] = useState(\"\");\n \n+  /* ---------------- MODAL ABOUT (PASO 3 CORRECTO) ---------------- */\n+\n+  const location = useLocation();\n+  const navigate = useNavigate();\n+\n+  const isAboutOpen = location.pathname === \"/about\";\n+\n+  const closeAbout = () => {\n+    navigate(\"/\");\n+  };\n+\n+  /* --------------------------------------------------------------- */\n+\n   useEffect(() => {\n     const fetchStats = async () => {\n       setLoadingStats(true);\n       setStatsError(\"\");\n@@ -92,9 +105,9 @@\n \n     fetchHighlighted();\n   }, []);\n \n-  // Autoplay SIN hash, SIN scroll //\n+  // Autoplay SIN hash, SIN scroll\n   useEffect(() => {\n     if (!highlighted || slideCount === 0) return;\n \n     const interval = setInterval(() => {\n@@ -103,16 +116,18 @@\n \n     return () => clearInterval(interval);\n   }, [highlighted, slideCount]);\n \n-  <AboutModal isOpen={isAboutOpen} onClose={closeAbout} />;\n-\n   return (\n     <main className=\"home\">\n+      {/* MODAL ABOUT */}\n+      <AboutModal isOpen={isAboutOpen} onClose={closeAbout} />\n+\n       {/* Button link to UserPage */}\n       <Link to=\"/userPage\" className=\"user-page-link\">\n         Mis Fotos\n       </Link>\n+\n       {/* Botón para alternar el modo manualmente */}\n       <button\n         className=\"theme-toggle\"\n         aria-label=\"Cambiar entre modo día y atardecer\"\n@@ -213,95 +228,12 @@\n           </div>\n         </div>\n       </section>\n \n-      {/* CARRUSEL SIN HASH */}\n+      {/* CARRUSEL */}\n       <section className=\"carousel-section\">\n         <h2 className=\"section-title\">Destacados del mosaico</h2>\n-\n-        {!highlighted ? (\n-          <p>Cargando...</p>\n-        ) : (\n-          (() => {\n-            const rawSlides = [\n-              {\n-                title: \"La más antigua\",\n-                description: `Capturada en ${\n-                  highlighted.oldestByYear?.year || \"año desconocido\"\n-                }.`,\n-                src: highlighted.oldestByYear?.imageUrl,\n-              },\n-              {\n-                title: \"La más reciente\",\n-                description: \"Tomada recientemente por un colaborador.\",\n-                src: highlighted.newestUploaded?.imageUrl,\n-              },\n-              {\n-                title: \"La más votada\",\n-                description: `Con ${highlighted.mostLiked?.likes || 0} likes.`,\n-                src: highlighted.mostLiked?.imageUrl,\n-              },\n-            ].filter((s) => !!s.src);\n-\n-            return (\n-              <div className=\"w-full max-w-3xl mx-auto rounded-lg shadow-lg overflow-hidden relative\">\n-                {/* Imagen */}\n-                <div className=\"relative w-full h-[500px] flex items-center justify-center bg-black/5\">\n-                  <img\n-                    src={rawSlides[currentSlide].src}\n-                    alt={rawSlides[currentSlide].title}\n-                    className=\"w-full h-full object-contain\"\n-                  />\n-\n-                  {/* Texto superpuesto */}\n-                  <div className=\"absolute bottom-0 left-0 w-full bg-black bg-opacity-50 text-white p-4\">\n-                    <h3 className=\"text-lg font-semibold\">\n-                      {rawSlides[currentSlide].title}\n-                    </h3>\n-                    <p>{rawSlides[currentSlide].description}</p>\n-                  </div>\n-\n-                  {/* Flechas de navegación */}\n-                  <button\n-                    onClick={() =>\n-                      setCurrentSlide(\n-                        (currentSlide - 1 + rawSlides.length) % rawSlides.length\n-                      )\n-                    }\n-                    className=\"btn btn-circle absolute left-5 top-1/2 -translate-y-1/2\"\n-                  >\n-                    ❮\n-                  </button>\n-\n-                  <button\n-                    onClick={() =>\n-                      setCurrentSlide((currentSlide + 1) % rawSlides.length)\n-                    }\n-                    className=\"btn btn-circle absolute right-5 top-1/2 -translate-y-1/2\"\n-                  >\n-                    ❯\n-                  </button>\n-                </div>\n-\n-                {/* Indicadores */}\n-                <div className=\"flex justify-center gap-3 py-4 bg-base-100\">\n-                  {rawSlides.map((_, i) => (\n-                    <button\n-                      key={i}\n-                      onClick={() => setCurrentSlide(i)}\n-                      className={`carousel-dot ${\n-                        i === currentSlide ? \"is-active\" : \"\"\n-                      }`}\n-                      type=\"button\"\n-                    >\n-                      {i + 1}\n-                    </button>\n-                  ))}\n-                </div>\n-              </div>\n-            );\n-          })()\n-        )}\n+        {!highlighted ? <p>Cargando...</p> : null}\n       </section>\n \n       {/* FOOTER */}\n       <footer className=\"footer\">\n"
                },
                {
                    "date": 1769450456953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,13 +5,14 @@\n import iconNacimiento from \"../assets/iconNacimiento.png\";\n import iconPasion from \"../assets/iconPasion.png\";\n import FactSection from \"../components/FactSection\";\n import useOnlineUsers from \"../hooks/useOnlineUsers\";\n-import { Link, useLocation, useNavigate } from \"react-router-dom\";\n+import { Link } from \"react-router-dom\";\n import MosaicProgressBar from \"../components/MosaicProgressBar\";\n import LiveCamera from \"../components/LiveCamera\";\n import { getHighlightedPhotos } from \"../services/photoService\";\n import { getPublicStats } from \"../services/statsService\";\n+import { useLocation, useNavigate } from \"react-router-dom\";\n import AboutModal from \"../components/AboutModal\";\n \n export default function Home() {\n   const {\n@@ -20,30 +21,16 @@\n     count: registeredOnline = 0,\n   } = useOnlineUsers();\n \n   const [theme, setTheme] = useState(\"day\");\n-\n   const [stats, setStats] = useState({\n     fotos: 0,\n     colaboradores: 0,\n     paises: 0,\n   });\n   const [loadingStats, setLoadingStats] = useState(true);\n   const [statsError, setStatsError] = useState(\"\");\n \n-  /* ---------------- MODAL ABOUT (PASO 3 CORRECTO) ---------------- */\n-\n-  const location = useLocation();\n-  const navigate = useNavigate();\n-\n-  const isAboutOpen = location.pathname === \"/about\";\n-\n-  const closeAbout = () => {\n-    navigate(\"/\");\n-  };\n-\n-  /* --------------------------------------------------------------- */\n-\n   useEffect(() => {\n     const fetchStats = async () => {\n       setLoadingStats(true);\n       setStatsError(\"\");\n@@ -105,9 +92,9 @@\n \n     fetchHighlighted();\n   }, []);\n \n-  // Autoplay SIN hash, SIN scroll\n+  // Autoplay SIN hash, SIN scroll //\n   useEffect(() => {\n     if (!highlighted || slideCount === 0) return;\n \n     const interval = setInterval(() => {\n@@ -116,18 +103,16 @@\n \n     return () => clearInterval(interval);\n   }, [highlighted, slideCount]);\n \n+  <AboutModal isOpen={isAboutOpen} onClose={closeAbout} />;\n+\n   return (\n     <main className=\"home\">\n-      {/* MODAL ABOUT */}\n-      <AboutModal isOpen={isAboutOpen} onClose={closeAbout} />\n-\n       {/* Button link to UserPage */}\n       <Link to=\"/userPage\" className=\"user-page-link\">\n         Mis Fotos\n       </Link>\n-\n       {/* Botón para alternar el modo manualmente */}\n       <button\n         className=\"theme-toggle\"\n         aria-label=\"Cambiar entre modo día y atardecer\"\n@@ -163,10 +148,11 @@\n             colaborativo.\n           </p>\n \n           <p className=\"intro-text\">\n-            Inspirados por el espíritu participativo de Barcelona, invitamos a\n-            cualquier persona a aportar su propia fotografía.\n+            Inspirados por el espíritu participativo de la ciudad de Barcelona,\n+            invitamos a todas las persona a subir sus propias fotos de la\n+            Basílica.\n           </p>\n \n           <p className=\"intro-tagline\">\n             Cada imagen cuenta una parte de esta historia. ¡Suma la tuya ahora!\n@@ -228,12 +214,95 @@\n           </div>\n         </div>\n       </section>\n \n-      {/* CARRUSEL */}\n+      {/* CARRUSEL SIN HASH */}\n       <section className=\"carousel-section\">\n         <h2 className=\"section-title\">Destacados del mosaico</h2>\n-        {!highlighted ? <p>Cargando...</p> : null}\n+\n+        {!highlighted ? (\n+          <p>Cargando...</p>\n+        ) : (\n+          (() => {\n+            const rawSlides = [\n+              {\n+                title: \"La más antigua\",\n+                description: `Capturada en ${\n+                  highlighted.oldestByYear?.year || \"año desconocido\"\n+                }.`,\n+                src: highlighted.oldestByYear?.imageUrl,\n+              },\n+              {\n+                title: \"La más reciente\",\n+                description: \"Tomada recientemente por un colaborador.\",\n+                src: highlighted.newestUploaded?.imageUrl,\n+              },\n+              {\n+                title: \"La más votada\",\n+                description: `Con ${highlighted.mostLiked?.likes || 0} likes.`,\n+                src: highlighted.mostLiked?.imageUrl,\n+              },\n+            ].filter((s) => !!s.src);\n+\n+            return (\n+              <div className=\"w-full max-w-3xl mx-auto rounded-lg shadow-lg overflow-hidden relative\">\n+                {/* Imagen */}\n+                <div className=\"relative w-full h-[500px] flex items-center justify-center bg-black/5\">\n+                  <img\n+                    src={rawSlides[currentSlide].src}\n+                    alt={rawSlides[currentSlide].title}\n+                    className=\"w-full h-full object-contain\"\n+                  />\n+\n+                  {/* Texto superpuesto */}\n+                  <div className=\"absolute bottom-0 left-0 w-full bg-black bg-opacity-50 text-white p-4\">\n+                    <h3 className=\"text-lg font-semibold\">\n+                      {rawSlides[currentSlide].title}\n+                    </h3>\n+                    <p>{rawSlides[currentSlide].description}</p>\n+                  </div>\n+\n+                  {/* Flechas de navegación */}\n+                  <button\n+                    onClick={() =>\n+                      setCurrentSlide(\n+                        (currentSlide - 1 + rawSlides.length) % rawSlides.length\n+                      )\n+                    }\n+                    className=\"btn btn-circle absolute left-5 top-1/2 -translate-y-1/2\"\n+                  >\n+                    ❮\n+                  </button>\n+\n+                  <button\n+                    onClick={() =>\n+                      setCurrentSlide((currentSlide + 1) % rawSlides.length)\n+                    }\n+                    className=\"btn btn-circle absolute right-5 top-1/2 -translate-y-1/2\"\n+                  >\n+                    ❯\n+                  </button>\n+                </div>\n+\n+                {/* Indicadores */}\n+                <div className=\"flex justify-center gap-3 py-4 bg-base-100\">\n+                  {rawSlides.map((_, i) => (\n+                    <button\n+                      key={i}\n+                      onClick={() => setCurrentSlide(i)}\n+                      className={`carousel-dot ${\n+                        i === currentSlide ? \"is-active\" : \"\"\n+                      }`}\n+                      type=\"button\"\n+                    >\n+                      {i + 1}\n+                    </button>\n+                  ))}\n+                </div>\n+              </div>\n+            );\n+          })()\n+        )}\n       </section>\n \n       {/* FOOTER */}\n       <footer className=\"footer\">\n"
                },
                {
                    "date": 1769451043549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -142,11 +142,12 @@\n             Un homenaje colaborativo a la Sagrada Família\n           </h2>\n \n           <p className=\"intro-text\">\n-            Con motivo de la inauguración de la Sagrada Família en 2026, hemos\n-            querido rendir nuestro pequeño homenaje con este proyecto\n-            colaborativo.\n+            Con la finalización de la torre de Jesús, que convertirá a la\n+            Sagrada Familia en la iglesia más alta del mundo en el centenario de\n+            la muerte de Gaudí, este proyecto quiere ser nuestro pequeño\n+            tributo.\n           </p>\n \n           <p className=\"intro-text\">\n             Inspirados por el espíritu participativo de la ciudad de Barcelona,\n"
                },
                {
                    "date": 1769451125390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,11 +143,11 @@\n           </h2>\n \n           <p className=\"intro-text\">\n             Con la finalización de la torre de Jesús, que convertirá a la\n-            Sagrada Familia en la iglesia más alta del mundo en el centenario de\n-            la muerte de Gaudí, este proyecto quiere ser nuestro pequeño\n-            tributo.\n+            Sagrada Familia en<strong>la iglesia más alta del mundo</strong> en\n+            el centenario de la muerte de Gaudí, este proyecto quiere ser\n+            nuestro pequeño tributo.\n           </p>\n \n           <p className=\"intro-text\">\n             Inspirados por el espíritu participativo de la ciudad de Barcelona,\n"
                },
                {
                    "date": 1769451380141,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,16 @@\n   });\n   const [loadingStats, setLoadingStats] = useState(true);\n   const [statsError, setStatsError] = useState(\"\");\n \n+  // Estado para controlar el modal AboutModal\n+  const [isAboutOpen, setIsAboutOpen] = useState(false);\n+\n+  // Función para cerrar modal\n+  const closeAbout = () => setIsAboutOpen(false);\n+  // Función para abrir modal (si quieres usar botón para abrirlo)\n+  const openAbout = () => setIsAboutOpen(true);\n+\n   useEffect(() => {\n     const fetchStats = async () => {\n       setLoadingStats(true);\n       setStatsError(\"\");\n@@ -103,17 +111,19 @@\n \n     return () => clearInterval(interval);\n   }, [highlighted, slideCount]);\n \n-  <AboutModal isOpen={isAboutOpen} onClose={closeAbout} />;\n-\n   return (\n     <main className=\"home\">\n-      {/* Button link to UserPage */}\n+      {/* Botón para abrir About Modal (puedes ubicarlo donde quieras) */}\n+      <button onClick={openAbout} className=\"btn btn-link about-button\">\n+        Sobre el proyecto\n+      </button>\n+\n       <Link to=\"/userPage\" className=\"user-page-link\">\n         Mis Fotos\n       </Link>\n-      {/* Botón para alternar el modo manualmente */}\n+\n       <button\n         className=\"theme-toggle\"\n         aria-label=\"Cambiar entre modo día y atardecer\"\n       >\n@@ -127,16 +137,14 @@\n           className=\"theme-icon\"\n         />\n       </button>\n \n-      {/* FACTS */}\n       <section className=\"fact-section\" aria-labelledby=\"fact-title\">\n         <div className=\"fact-inner\">\n           <FactSection />\n         </div>\n       </section>\n \n-      {/* INTRODUCCIÓN */}\n       <section className=\"intro-section\" aria-labelledby=\"intro-title\">\n         <div className=\"intro-inner\">\n           <h2 id=\"intro-title\" className=\"intro-title\">\n             Un homenaje colaborativo a la Sagrada Família\n@@ -169,9 +177,8 @@\n           </div>\n         </div>\n       </section>\n \n-      {/* HERO MOSAICO */}\n       <section className=\"hero-preview\">\n         <Link to=\"/mosaic\">\n           <img\n             src={heroPic}\n@@ -183,9 +190,8 @@\n       </section>\n \n       <MosaicProgressBar />\n \n-      {/* ESTADÍSTICAS */}\n       <section className=\"stats-section\">\n         <h3 className=\"stats-title\">Nuestra comunidad en cifras</h3>\n         {statsError && (\n           <p className=\"text-red-600 text-sm mb-2\">{statsError}</p>\n@@ -215,9 +221,8 @@\n           </div>\n         </div>\n       </section>\n \n-      {/* CARRUSEL SIN HASH */}\n       <section className=\"carousel-section\">\n         <h2 className=\"section-title\">Destacados del mosaico</h2>\n \n         {!highlighted ? (\n@@ -245,25 +250,21 @@\n             ].filter((s) => !!s.src);\n \n             return (\n               <div className=\"w-full max-w-3xl mx-auto rounded-lg shadow-lg overflow-hidden relative\">\n-                {/* Imagen */}\n                 <div className=\"relative w-full h-[500px] flex items-center justify-center bg-black/5\">\n                   <img\n                     src={rawSlides[currentSlide].src}\n                     alt={rawSlides[currentSlide].title}\n                     className=\"w-full h-full object-contain\"\n                   />\n-\n-                  {/* Texto superpuesto */}\n                   <div className=\"absolute bottom-0 left-0 w-full bg-black bg-opacity-50 text-white p-4\">\n                     <h3 className=\"text-lg font-semibold\">\n                       {rawSlides[currentSlide].title}\n                     </h3>\n                     <p>{rawSlides[currentSlide].description}</p>\n                   </div>\n \n-                  {/* Flechas de navegación */}\n                   <button\n                     onClick={() =>\n                       setCurrentSlide(\n                         (currentSlide - 1 + rawSlides.length) % rawSlides.length\n@@ -283,9 +284,8 @@\n                     ❯\n                   </button>\n                 </div>\n \n-                {/* Indicadores */}\n                 <div className=\"flex justify-center gap-3 py-4 bg-base-100\">\n                   {rawSlides.map((_, i) => (\n                     <button\n                       key={i}\n@@ -304,9 +304,8 @@\n           })()\n         )}\n       </section>\n \n-      {/* FOOTER */}\n       <footer className=\"footer\">\n         <p className=\"footer-text\">\n           <a href=\"/about\">Sobre el proyecto</a>\n           <a href=\"/api/docs\">API Docs</a>\n@@ -318,7 +317,10 @@\n         Development by Amarillo Team at Nuclio Digital School Full Stack 2025.\n       </footer>\n \n       <LiveCamera />\n+\n+      {/* Aquí incluimos el modal */}\n+      <AboutModal isOpen={isAboutOpen} onClose={closeAbout} />\n     </main>\n   );\n }\n"
                },
                {
                    "date": 1769451445815,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,9 +151,9 @@\n           </h2>\n \n           <p className=\"intro-text\">\n             Con la finalización de la torre de Jesús, que convertirá a la\n-            Sagrada Familia en<strong>la iglesia más alta del mundo</strong> en\n+            Sagrada Familia en <strong>la iglesia más alta del mundo</strong> en\n             el centenario de la muerte de Gaudí, este proyecto quiere ser\n             nuestro pequeño tributo.\n           </p>\n \n"
                },
                {
                    "date": 1769451659587,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,8 @@\n import MosaicProgressBar from \"../components/MosaicProgressBar\";\n import LiveCamera from \"../components/LiveCamera\";\n import { getHighlightedPhotos } from \"../services/photoService\";\n import { getPublicStats } from \"../services/statsService\";\n-import { useLocation, useNavigate } from \"react-router-dom\";\n import AboutModal from \"../components/AboutModal\";\n \n export default function Home() {\n   const {\n@@ -34,10 +33,8 @@\n   const [isAboutOpen, setIsAboutOpen] = useState(false);\n \n   // Función para cerrar modal\n   const closeAbout = () => setIsAboutOpen(false);\n-  // Función para abrir modal (si quieres usar botón para abrirlo)\n-  const openAbout = () => setIsAboutOpen(true);\n \n   useEffect(() => {\n     const fetchStats = async () => {\n       setLoadingStats(true);\n@@ -113,13 +110,8 @@\n   }, [highlighted, slideCount]);\n \n   return (\n     <main className=\"home\">\n-      {/* Botón para abrir About Modal (puedes ubicarlo donde quieras) */}\n-      <button onClick={openAbout} className=\"btn btn-link about-button\">\n-        Sobre el proyecto\n-      </button>\n-\n       <Link to=\"/userPage\" className=\"user-page-link\">\n         Mis Fotos\n       </Link>\n \n@@ -151,11 +143,12 @@\n           </h2>\n \n           <p className=\"intro-text\">\n             Con la finalización de la torre de Jesús, que convertirá a la\n-            Sagrada Familia en <strong>la iglesia más alta del mundo</strong> en\n-            el centenario de la muerte de Gaudí, este proyecto quiere ser\n-            nuestro pequeño tributo.\n+            Sagrada Familia en\n+            <strong>la iglesia más alta del mundo</strong> en el centenario de\n+            la muerte de Gaudí, este proyecto quiere ser nuestro pequeño\n+            tributo.\n           </p>\n \n           <p className=\"intro-text\">\n             Inspirados por el espíritu participativo de la ciudad de Barcelona,\n@@ -306,21 +299,32 @@\n       </section>\n \n       <footer className=\"footer\">\n         <p className=\"footer-text\">\n-          <a href=\"/about\">Sobre el proyecto</a>\n+          <button\n+            onClick={() => setIsAboutOpen(true)}\n+            className=\"footer-link\"\n+            style={{\n+              background: \"none\",\n+              border: \"none\",\n+              padding: 0,\n+              cursor: \"pointer\",\n+              color: \"inherit\",\n+              textDecoration: \"underline\",\n+            }}\n+            aria-label=\"Abrir información sobre el proyecto\"\n+          >\n+            Sobre el proyecto\n+          </button>\n           <a href=\"/api/docs\">API Docs</a>\n           <a href=\"https://github.com\" target=\"_blank\" rel=\"noreferrer\">\n             GitHub\n           </a>\n         </p>\n-        © {new Date().getFullYear()} Proyecto colaborativo Sagrada Família API —\n-        Development by Amarillo Team at Nuclio Digital School Full Stack 2025.\n       </footer>\n \n       <LiveCamera />\n \n-      {/* Aquí incluimos el modal */}\n       <AboutModal isOpen={isAboutOpen} onClose={closeAbout} />\n     </main>\n   );\n }\n"
                },
                {
                    "date": 1769454039598,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,12 +143,11 @@\n           </h2>\n \n           <p className=\"intro-text\">\n             Con la finalización de la torre de Jesús, que convertirá a la\n-            Sagrada Familia en\n-            <strong>la iglesia más alta del mundo</strong> en el centenario de\n-            la muerte de Gaudí, este proyecto quiere ser nuestro pequeño\n-            tributo.\n+            Sagrada Familia en <strong>la iglesia más alta del mundo</strong> en\n+            el centenario de la muerte de Gaudí, este proyecto quiere ser\n+            nuestro pequeño tributo.\n           </p>\n \n           <p className=\"intro-text\">\n             Inspirados por el espíritu participativo de la ciudad de Barcelona,\n"
                },
                {
                    "date": 1769454084025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,16 +145,14 @@\n           <p className=\"intro-text\">\n             Con la finalización de la torre de Jesús, que convertirá a la\n             Sagrada Familia en <strong>la iglesia más alta del mundo</strong> en\n             el centenario de la muerte de Gaudí, este proyecto quiere ser\n-            nuestro pequeño tributo.\n+            nuestro pequeño tributo. Inspirados por el espíritu participativo de\n+            la ciudad de Barcelona, invitamos a todas las persona a subir sus\n+            propias fotos de la Basílica.\n           </p>\n \n-          <p className=\"intro-text\">\n-            Inspirados por el espíritu participativo de la ciudad de Barcelona,\n-            invitamos a todas las persona a subir sus propias fotos de la\n-            Basílica.\n-          </p>\n+          <p className=\"intro-text\"></p>\n \n           <p className=\"intro-tagline\">\n             Cada imagen cuenta una parte de esta historia. ¡Suma la tuya ahora!\n           </p>\n"
                },
                {
                    "date": 1769454141461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,10 +150,8 @@\n             la ciudad de Barcelona, invitamos a todas las persona a subir sus\n             propias fotos de la Basílica.\n           </p>\n \n-          <p className=\"intro-text\"></p>\n-\n           <p className=\"intro-tagline\">\n             Cada imagen cuenta una parte de esta historia. ¡Suma la tuya ahora!\n           </p>\n \n"
                },
                {
                    "date": 1769460171376,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -158,11 +158,14 @@\n           <div className=\"intro-cta\">\n             <Link to=\"/email\" className=\"btn btn-primary\">\n               Colabora con tu foto\n             </Link>\n-            <Link to=\"/mosaic\" className=\"btn-link\">\n+            <Link to=\"/mosaic\" className=\"btn btn-primary\">\n               Ver el mosaico\n             </Link>\n+            <Link to=\"/gallery\" className=\"btn btn-primary\">\n+              Ver la galería\n+            </Link>\n           </div>\n         </div>\n       </section>\n \n@@ -176,9 +179,9 @@\n           />\n         </Link>\n       </section>\n \n-      <MosaicProgressBar />\n+      <MosaicProgressBar totalPhotos={stats.fotos} />\n \n       <section className=\"stats-section\">\n         <h3 className=\"stats-title\">Nuestra comunidad en cifras</h3>\n         {statsError && (\n@@ -302,10 +305,9 @@\n               background: \"none\",\n               border: \"none\",\n               padding: 0,\n               cursor: \"pointer\",\n-              color: \"inherit\",\n-              textDecoration: \"underline\",\n+              color: \"white\",\n             }}\n             aria-label=\"Abrir información sobre el proyecto\"\n           >\n             Sobre el proyecto\n"
                }
            ],
            "date": 1765474858499,
            "name": "Commit-0",
            "content": "// src/pages/Home.jsx\nimport React, { useState, useEffect } from \"react\";\nimport \"./Home.css\";\nimport heroPic from \"../assets/heroPicSagradaFamilia.png\";\nimport iconNacimiento from \"../assets/iconNacimiento.png\";\nimport iconPasion from \"../assets/iconPasion.png\";\nimport FactSection from \"../components/FactSection\";\nimport useOnlineUsers from \"../hooks/useOnlineUsers\";\nimport { Link } from \"react-router-dom\";\nimport MosaicProgressBar from \"../components/MosaicProgressBar\";\nimport LiveCamera from \"../components/LiveCamera\";\nimport { getHighlightedPhotos } from \"../services/photoService\";\n\nexport default function Home() {\n  const { total: onlineTotal = 0, anonymousCount = 0, count: registeredOnline = 0 } =\n    useOnlineUsers();\n\n  const [theme, setTheme] = useState(\"day\");\n  const [stats] = useState({\n    fotos: 1523,\n    colaboradores: 847,\n    paises: 27,\n  });\n\n  // Theme automático por hora\n  useEffect(() => {\n    const hour = new Date().getHours();\n    if (hour >= 21 || hour < 6) setTheme(\"sunset\");\n    else setTheme(\"day\");\n  }, []);\n\n  // Aplicar el tema\n  useEffect(() => {\n    document.documentElement.setAttribute(\"data-theme\", theme);\n  }, [theme]);\n\n  // Fotos destacadas\n  const [highlighted, setHighlighted] = useState(null);\n  const [slideCount, setSlideCount] = useState(0);\n  const [currentSlide, setCurrentSlide] = useState(0);\n\n  useEffect(() => {\n    const fetchHighlighted = async () => {\n      try {\n        const data = await getHighlightedPhotos();\n        setHighlighted(data);\n\n        const slides = [\n          data?.oldestByYear?.imageUrl,\n          data?.newestUploaded?.imageUrl,\n          data?.mostLiked?.imageUrl,\n        ].filter(Boolean);\n\n        setSlideCount(slides.length);\n      } catch (error) {\n        console.error(\"Error al cargar fotos destacadas:\", error);\n      }\n    };\n\n    fetchHighlighted();\n  }, []);\n\n  // Autoplay SIN hash, SIN scroll //\n  useEffect(() => {\n    if (!highlighted || slideCount === 0) return;\n\n    const interval = setInterval(() => {\n      setCurrentSlide((prev) => (prev + 1) % slideCount);\n    }, 5000);\n\n    return () => clearInterval(interval);\n  }, [highlighted, slideCount]);\n\n  return (\n    <main className=\"home\">\n      {/* Botón para alternar el modo manualmente */}\n      <button\n        className=\"theme-toggle\"\n        aria-label=\"Cambiar entre modo día y atardecer\"\n      >\n        <img\n          src={theme === \"day\" ? iconPasion : iconNacimiento}\n          alt={\n            theme === \"day\"\n              ? \"Modo día - Fachada Nacimiento\"\n              : \"Modo atardecer - Fachada Pasión\"\n          }\n          className=\"theme-icon\"\n        />\n      </button>\n\n      {/* FACTS */}\n      <section className=\"fact-section\" aria-labelledby=\"fact-title\">\n        <div className=\"fact-inner\">\n          <FactSection />\n        </div>\n      </section>\n\n      {/* INTRODUCCIÓN */}\n      <section className=\"intro-section\" aria-labelledby=\"intro-title\">\n        <div className=\"intro-inner\">\n          <h2 id=\"intro-title\" className=\"intro-title\">\n            Un homenaje colaborativo a la Sagrada Família\n          </h2>\n\n          <p className=\"intro-text\">\n            Con motivo de la inauguración de la Sagrada Família en 2026, hemos\n            querido rendir nuestro pequeño homenaje con este proyecto\n            colaborativo.\n          </p>\n\n          <p className=\"intro-text\">\n            Inspirados por el espíritu participativo de Barcelona, invitamos a\n            cualquier persona a aportar su propia fotografía.\n          </p>\n\n          <p className=\"intro-tagline\">\n            Cada imagen cuenta una parte de esta historia. ¡Suma la tuya ahora!\n          </p>\n\n          <div className=\"intro-cta\">\n            <Link to=\"/email\" className=\"btn btn-primary\">\n              Colabora con tu foto\n            </Link>\n            <Link to=\"/mosaic\" className=\"btn-link\">\n              Ver el mosaico\n            </Link>\n          </div>\n        </div>\n      </section>\n      \n\n      {/* HERO MOSAICO */}\n      <section className=\"hero-preview\">\n       <Link to=\"/mosaic\">\n        <img\n          src={heroPic}\n          alt=\"Vista previa del mosaico colaborativo de la Sagrada Família\"\n          loading=\"lazy\"\n          className=\"hero-clickable\"\n        />\n       </Link>\n      </section>\n\n\n      <MosaicProgressBar />\n\n      {/* ESTADÍSTICAS */}\n      <section className=\"stats-section\">\n        <h3 className=\"stats-title\">Nuestra comunidad en cifras</h3>\n        <div className=\"stats-grid\">\n          <div className=\"stat-item\">\n            <span className=\"stat-number\">{stats.fotos.toLocaleString()}</span>\n            <span className=\"stat-label\">Fotos subidas</span>\n          </div>\n          <div className=\"stat-item\">\n            <span className=\"stat-number\">\n              {stats.colaboradores.toLocaleString()}\n            </span>\n            <span className=\"stat-label\">Colaboradores</span>\n          </div>\n          <div className=\"stat-item\">\n            <span className=\"stat-number\">{stats.paises}</span>\n            <span className=\"stat-label\">Países participantes</span>\n          </div>\n          <div className=\"stat-item\">\n            <span className=\"stat-number\">{onlineTotal || 0}</span>\n            <span className=\"stat-label\">Personas viendo ahora</span>\n          </div>\n        </div>\n      </section>\n\n      {/* CARRUSEL SIN HASH */}\n      <section className=\"carousel-section\">\n        <h2 className=\"section-title\">Destacados del mosaico</h2>\n\n        {!highlighted ? (\n          <p>Cargando...</p>\n        ) : (\n          (() => {\n            const rawSlides = [\n              {\n                title: \"La más antigua\",\n                description: `Capturada en ${\n                  highlighted.oldestByYear?.year || \"año desconocido\"\n                }.`,\n                src: highlighted.oldestByYear?.imageUrl,\n              },\n              {\n                title: \"La más reciente\",\n                description: \"Tomada recientemente por un colaborador.\",\n                src: highlighted.newestUploaded?.imageUrl,\n              },\n              {\n                title: \"La más votada\",\n                description: `Con ${highlighted.mostLiked?.likes || 0} likes.`,\n                src: highlighted.mostLiked?.imageUrl,\n              },\n            ].filter((s) => !!s.src);\n\n            return (\n              <div className=\"w-full max-w-3xl mx-auto rounded-lg shadow-lg overflow-hidden relative\">\n                {/* Imagen */}\n                <div className=\"relative w-full h-[500px] flex items-center justify-center bg-black/5\">\n                  <img\n                    src={rawSlides[currentSlide].src}\n                    alt={rawSlides[currentSlide].title}\n                    className=\"w-full h-full object-contain\"\n                  />\n\n                  {/* Texto superpuesto */}\n                  <div className=\"absolute bottom-0 left-0 w-full bg-black bg-opacity-50 text-white p-4\">\n                    <h3 className=\"text-lg font-semibold\">\n                      {rawSlides[currentSlide].title}\n                    </h3>\n                    <p>{rawSlides[currentSlide].description}</p>\n                  </div>\n\n                  {/* Flechas de navegación */}\n                  <button\n                    onClick={() =>\n                      setCurrentSlide(\n                        (currentSlide - 1 + rawSlides.length) % rawSlides.length\n                      )\n                    }\n                    className=\"btn btn-circle absolute left-5 top-1/2 -translate-y-1/2\"\n                  >\n                    ❮\n                  </button>\n\n                  <button\n                    onClick={() =>\n                      setCurrentSlide((currentSlide + 1) % rawSlides.length)\n                    }\n                    className=\"btn btn-circle absolute right-5 top-1/2 -translate-y-1/2\"\n                  >\n                    ❯\n                  </button>\n                </div>\n\n                {/* Indicadores */}\n                <div className=\"flex justify-center gap-2 py-4 bg-base-100\">\n                  {rawSlides.map((_, i) => (\n                    <button\n                      key={i}\n                      onClick={() => setCurrentSlide(i)}\n                      className={`btn btn-xs ${\n                        i === currentSlide ? \"btn-primary\" : \"\"\n                      }`}\n                    >\n                      {i + 1}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            );\n          })()\n        )}\n      </section>\n\n      {/* FOOTER */}\n      <footer className=\"footer\">\n        <p className=\"footer-text\">\n          <a href=\"/about\">Sobre el proyecto</a>\n          <a href=\"/api/docs\">API Docs</a>\n          <a href=\"https://github.com\" target=\"_blank\" rel=\"noreferrer\">\n            GitHub\n          </a>\n          </p>\n          © {new Date().getFullYear()} Proyecto colaborativo Sagrada Família API\n          — Desarrollado por el equipo Full Stack 2025.\n      </footer>\n\n      <LiveCamera />\n    </main>\n  );\n}\n"
        }
    ]
}